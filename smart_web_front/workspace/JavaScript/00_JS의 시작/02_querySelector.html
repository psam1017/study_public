<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>자바스크립트 기본문법 - 버튼으로 텍스트 변경</title>
    <!-- 
        js는 기본적으로 파서 차단 리소스이다.
        즉, 문서를 파싱해 읽다가 js를 만나면 파싱을 멈추고 스크립트 다운 - 파싱 - 실행한 후 다시 파싱하게 된다. 이 경우 스크립트를 다운로드하는 동안 문서가 중단된다는 특징이 있다.
        1. async를 명시하면, 스크립트를 만났을 때 파싱과 스크립트 다운로드를 동시에 실행한다. 다운로드가 완료되면 스크립트를 실행하고, 그 동안 파싱을 일시적으로 중단되었다가 스크립트 실행이 끝나면 재개한다. 이는 DOM을 조작하지 않고 스크립트 의존성이 없는 코드에 유효하다.
        2. defer를 명시하면, 스크립트를 다운로드한 후 파싱이 끝날 때까지 실행을 보류한다. 일반 스크립트를 body 태그의 맨 마지막 줄에 위치시키는 효과를 준다. 이는 DOM을 조작해 HTML 의존성이 있을 때 문서 HTML을 모두 파싱한 후 실행해야 하는 코드에 유효하다.

        DOMContentLoaded, async, defer 모두 스크립트가 문서 내부의 요소를 가져오는 데 사용할 수 있다.
        단, 아래와 같은 특징이 있다.
        async와 defer : 스크립트를 내려받는 동안 HTML이 중단되지 않는다. HTML 안에서 로딩 순서를 제어하는 방법이다.
        async : 스크립트를 모두 내려받으면 바로 실행하고, 또한 내려받은 순서대로 실행한다.
        defer : HTML 문서를 모두 읽은 후에 실행하고, 정의된 순서대로 실행한다.
        DOMContentLoaded : 브라우저가 HTML을 전부 읽고 DOM 트리를 완성하면 발생한다. JS 안에서 로딩 순서를 제어하는 방법이다. 즉, 위 둘과 달리 파싱이 중단되고 JS를 실행할 때 사용할 수 있다.
     -->
    <script src="./common2.js" defer></script>
    <script src="./common2.js" async></script>
</head>
<body>
    <button>제목변경</button>
    <h1>자바스크립트</h1>
    <script>
        // DOMContentLoaded : script의 위치에 상관 없이 document의 요소들을 가져온다. 즉, 원래는 script가, 사용하려는 요소들보다 위에 위치하면 오류가 발생한다.
        
        // 화살표 함수 : ()=>{}
        // 익명 함수를 표현하는 또 하나의 방법.

        // DOM의 Content를 가져오는 이벤트가 발생하면, 다음 함수를 실행.
        document.addEventListener("DOMContentLoaded", ()=>{
            
            // document.querySelector("element");
            // 웹 페이지 중에 "element"라는 태그 중 첫 번째를 가져온다.
            const button = document.querySelector("button");
            const h1 = document.querySelector('h1');
    
    
            // console.log(var);
            // 콘솔 창에 var의 값을 출력한다.
            console.log(button);
            console.log(h1);
            // console.log(button, h1);
    
    
            // var.addEventListner('event', function);
            // event가 발생하면 function을 실행한다.

            // 익명 함수 : function(){}
            // addEventListner와 함께 익명으로 자주 사용하게 된다.

            // var.innerHTML = "value";
            // var 안의 텍스트 내용을 value로 바꾼다.
            button.addEventListener('click', function(){
                h1.innerHTML = "JavaScript";
                console.log(h1); // JavaScript를 출력한다.
                // h1 상수가 참조하는 것은 h1 요소일 뿐이며, h1 안의 값은 const가 아니기 때문이다.
            });
        });
    </script>
</body>
</html>
